#!/usr/bin/env ruby

require 'thor'
require 'twitter_atm'

class TwitterAtm::Commands < Thor
  desc "start", "To start, put the username and your app secret in here."
  method_options :consumer_secret => :required, :consumer_token => :required
  def start
    puts TwitterAtm::Client.pin_url(options[:consumer_token], options[:consumer_secret])
  end

  desc "finish", "Once you get the pin, put it in here."
  method_options :pin => :string, :secret => :string
  def finish
    puts 'Finish!'
  end

  desc "version", "Displays the current version of twitter_atm."
  def version
    puts TwitterAtm.version
  end
end
TwitterAtm::Commands.start
